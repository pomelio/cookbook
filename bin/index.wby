import ext.HttpContext as web;
import std.string as str;
import ext.DownloadDocs as dd;


let ppath = web.path();

if ppath == '/' {
  ppath = '/docs/start.md';
}

if str.ends_with(ppath, '.md') {
  web.dispatch('/markdown', {});
} elsif str.starts_with(ppath, '/docs') {
  let data = dd.download(ppath);
  web.body(data);
} else {
  web.dispatch(ppath, {});
}
